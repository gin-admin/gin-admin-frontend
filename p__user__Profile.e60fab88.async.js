(self.webpackChunkgin_admin_frontend=self.webpackChunkgin_admin_frontend||[]).push([[874],{52688:function(y,c,e){"use strict";var h=e(22122),_=e(28991),P=e(81253),p=e(67294),C=e(46855),f=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],g=p.forwardRef(function(i,T){var l=i.fieldProps,Z=i.unCheckedChildren,o=i.checkedChildren,d=i.proFieldProps,E=(0,P.Z)(i,f);return p.createElement(C.Z,(0,h.Z)({valueType:"switch",mode:"edit",fieldProps:(0,_.Z)({unCheckedChildren:Z,checkedChildren:o},l),ref:T,valuePropName:"checked",proFieldProps:d,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},E))});c.Z=g},5966:function(y,c,e){"use strict";var h=e(22122),_=e(81253),P=e(67294),p=e(46855),C=["fieldProps","proFieldProps"],f=["fieldProps","proFieldProps"],g="text",i=function(o){var d=o.fieldProps,E=o.proFieldProps,D=(0,_.Z)(o,C);return P.createElement(p.Z,(0,h.Z)({mode:"edit",valueType:g,fieldProps:d,filedConfig:{valueType:g},proFieldProps:E},D))},T=function(o){var d=o.fieldProps,E=o.proFieldProps,D=(0,_.Z)(o,f);return P.createElement(p.Z,(0,h.Z)({mode:"edit",valueType:"password",fieldProps:d,proFieldProps:E,filedConfig:{valueType:g}},D))},l=i;l.Password=T,l.displayName="ProFormComponent",c.Z=l},90672:function(y,c,e){"use strict";var h=e(22122),_=e(81253),P=e(67294),p=e(46855),C=["fieldProps","proFieldProps"],f=function(i,T){var l=i.fieldProps,Z=i.proFieldProps,o=(0,_.Z)(i,C);return P.createElement(p.Z,(0,h.Z)({ref:T,mode:"edit",valueType:"textarea",fieldProps:l,proFieldProps:Z},o))};c.Z=P.forwardRef(f)},96595:function(y,c,e){"use strict";e.r(c);var h=e(18106),_=e(63885),P=e(71153),p=e(60331),C=e(34792),f=e(48086),g=e(13062),i=e(71230),T=e(89032),l=e(15746),Z=e(49111),o=e(19650),d=e(39428),E=e(11849),D=e(3182),x=e(67265),F=e(82785),w=e(67294),A=e(25377),W=e(5894),O=e(5966),S=e(90672),$=e(52688),B=e(82566),K=e(97470),s=e(85893),z=function(){var b,R,U,I,r=(0,A.YB)(),j=(0,A.tT)("@@initialState"),t=j.initialState,N=j.setInitialState,L=(0,w.useRef)(),V=function(){var u=(0,D.Z)((0,d.Z)().mark(function m(){var a,M;return(0,d.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t==null||(a=t.fetchInitData)===null||a===void 0?void 0:a.call(t);case 2:if(M=n.sent,!M){n.next=6;break}return n.next=6,N(function(G){return(0,E.Z)((0,E.Z)({},G),M)});case 6:case"end":return n.stop()}},m)}));return function(){return u.apply(this,arguments)}}();return(0,s.jsx)(x.ZP,{title:r.formatMessage({id:"menu.account.settings"}),children:(0,s.jsxs)(_.Z,{tabPosition:"left",defaultActiveKey:"profile",style:{background:"#fff",paddingTop:25,paddingBottom:50},children:[(0,s.jsx)(_.Z.TabPane,{style:{justifyContent:"center"},tab:r.formatMessage({id:"pages.user.profile.tab.basic"}),children:(0,s.jsxs)(W.A,{style:{width:500},layout:"horizontal",labelCol:{span:6},wrapperCol:{span:16},submitter:{searchConfig:{submitText:r.formatMessage({id:"button.save"}),resetText:""},render:function(m,a){return(0,s.jsx)(i.Z,{children:(0,s.jsx)(l.Z,{span:14,offset:6,children:(0,s.jsx)(o.Z,{children:a})})})}},initialValues:t==null?void 0:t.currentUser,onFinish:function(){var u=(0,D.Z)((0,d.Z)().mark(function m(a){return(0,d.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,B.SF)({name:a.name,phone:a.phone,email:a.email,remark:a.remark});case 2:return f.ZP.success(r.formatMessage({id:"component.message.success.save"})),v.next=5,V();case 5:return v.abrupt("return",!0);case 6:case"end":return v.stop()}},m)}));return function(m){return u.apply(this,arguments)}}(),children:[(0,s.jsx)(O.Z,{name:"username",label:r.formatMessage({id:"pages.system.user.form.username"}),disabled:!0}),(t==null||(b=t.currentUser)===null||b===void 0||(R=b.roles)===null||R===void 0?void 0:R.length)===0&&(0,s.jsx)(l.Z,{span:24,children:(0,s.jsx)(F.Z,{label:r.formatMessage({id:"pages.system.user.form.roles"}),children:(0,s.jsx)(o.Z,{wrap:!0,children:t==null||(U=t.currentUser)===null||U===void 0||(I=U.roles)===null||I===void 0?void 0:I.map(function(u){return(0,s.jsx)(p.Z,{color:"processing",children:u.role_name},u.id)})})})}),(0,s.jsx)(O.Z,{name:"name",label:r.formatMessage({id:"pages.system.user.form.name"})}),(0,s.jsx)(O.Z,{name:"email",label:r.formatMessage({id:"pages.system.user.form.email"}),placeholder:r.formatMessage({id:"pages.system.user.form.email.placeholder"})}),(0,s.jsx)(O.Z,{name:"phone",label:r.formatMessage({id:"pages.system.user.form.phone"}),placeholder:r.formatMessage({id:"pages.system.user.form.phone.placeholder"})}),(0,s.jsx)(S.Z,{name:"remark",label:r.formatMessage({id:"pages.system.user.form.remark"}),fieldProps:{rows:2}}),(0,s.jsx)($.Z,{name:"statusChecked",label:r.formatMessage({id:"pages.system.user.form.status"}),fieldProps:{checkedChildren:r.formatMessage({id:"pages.system.user.form.status.activated"}),unCheckedChildren:r.formatMessage({id:"pages.system.user.form.status.freezed"})},disabled:!0})]})},"basic"),(0,s.jsx)(_.Z.TabPane,{style:{justifyContent:"center"},tab:r.formatMessage({id:"pages.user.profile.tab.security"}),children:(0,s.jsxs)(W.A,{formRef:L,style:{width:500},layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},submitter:{searchConfig:{submitText:r.formatMessage({id:"button.confirm"}),resetText:""},render:function(m,a){return(0,s.jsx)(i.Z,{children:(0,s.jsx)(l.Z,{span:14,offset:6,children:(0,s.jsx)(o.Z,{children:a})})})}},initialValues:t==null?void 0:t.currentUser,onFinish:function(){var u=(0,D.Z)((0,d.Z)().mark(function m(a){var M;return(0,d.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.new_password===a.confirm_password){n.next=3;break}return f.ZP.error(r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password.validator"})),n.abrupt("return",!1);case 3:return n.next=5,(0,B.kl)({old_password:K.Z.md5(a.old_password),new_password:K.Z.md5(a.new_password)});case 5:return f.ZP.success(r.formatMessage({id:"component.message.success.save"})),(M=L.current)===null||M===void 0||M.resetFields(),n.abrupt("return",!0);case 8:case"end":return n.stop()}},m)}));return function(m){return u.apply(this,arguments)}}(),children:[(0,s.jsx)(O.Z.Password,{name:"old_password",label:r.formatMessage({id:"pages.user.profile.tab.security.form.old_password"}),placeholder:r.formatMessage({id:"pages.user.profile.tab.security.form.old_password.placeholder"}),rules:[{required:!0,message:r.formatMessage({id:"pages.user.profile.tab.security.form.old_password.required"})}]}),(0,s.jsx)(O.Z.Password,{name:"new_password",label:r.formatMessage({id:"pages.user.profile.tab.security.form.password"}),placeholder:r.formatMessage({id:"pages.user.profile.tab.security.form.password.placeholder"}),rules:[{required:!0,message:r.formatMessage({id:"pages.user.profile.tab.security.form.password.required"})}]}),(0,s.jsx)(O.Z.Password,{name:"confirm_password",label:r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password"}),placeholder:r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password.placeholder"}),rules:[{required:!0,message:r.formatMessage({id:"pages.user.profile.tab.security.form.confirm_password.required"})}]})]})},"security")]})})};c.default=z}}]);
